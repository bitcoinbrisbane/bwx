{"ast":null,"code":"import _regeneratorRuntime from\"/home/lucascullen/GitHub/BitcoinBrisbane/bwx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lucascullen/GitHub/BitcoinBrisbane/bwx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectWithoutProperties from\"/home/lucascullen/GitHub/BitcoinBrisbane/bwx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState}from\"react\";import{Button}from\"react-bootstrap\";import{history}from\"../components/Router\";import bwx from\"../apis/bwx\";var Runners=function Runners(_ref){var data=_ref.data,date=_ref.date,mnemonic=_ref.mnemonic,id=_ref.id,props=_objectWithoutProperties(_ref,[\"data\",\"date\",\"mnemonic\",\"id\"]);var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(date,mnemonic,id,proposition,runner,type,event){var _payout,values,url,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_payout=localStorage.getItem(\"bwx_address\");values={coin:\"bch\",date:new Date(date).toISOString(),mnemonic:mnemonic,payoutaddress:_payout,proposition:proposition,raceid:parseInt(id,10),runner:runner,type:type};console.log(values);url=\"/betslip\";_context.next=6;return bwx.open.post(url,values);case 6:result=_context.sent;history.push(\"/betslip/\".concat(result.data));case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(_x,_x2,_x3,_x4,_x5,_x6,_x7){return _ref2.apply(this,arguments);};}();console.log(date);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Runner\"),/*#__PURE__*/React.createElement(\"th\",null,\"Rider\"),/*#__PURE__*/React.createElement(\"th\",null,\"Weight\"),/*#__PURE__*/React.createElement(\"th\",null,\"Win\"),/*#__PURE__*/React.createElement(\"th\",null,\"Place\")),data.runners.map(function(runner){return/*#__PURE__*/React.createElement(\"tr\",{key:runner.name},/*#__PURE__*/React.createElement(\"td\",null,runner.number),/*#__PURE__*/React.createElement(\"td\",null,runner.name,\" (\",runner.barrierNumber,\")\"),/*#__PURE__*/React.createElement(\"td\",null,runner.riderDriverName),/*#__PURE__*/React.createElement(\"td\",null,runner.handicapWeight,\" kg\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"primary\",block:\"true\",onClick:function onClick(e){return handleClick(date,mnemonic,id,runner.fixedOdds.propositionNumber,runner.number,\"win\",e);}},runner.fixedOdds.returnWin)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{variant:\"primary\",block:\"true\",onClick:function onClick(e){return handleClick(date,mnemonic,id,runner.fixedOdds.propositionNumber,runner.number,\"place\",e);}},runner.fixedOdds.returnPlace)));}))));};export default Runners;","map":{"version":3,"sources":["/home/lucascullen/GitHub/BitcoinBrisbane/bwx/src/components/Runners.js"],"names":["React","useState","Button","history","bwx","Runners","data","date","mnemonic","id","props","handleClick","proposition","runner","type","event","_payout","localStorage","getItem","values","coin","Date","toISOString","payoutaddress","raceid","parseInt","console","log","url","open","post","result","push","runners","map","name","number","barrierNumber","riderDriverName","handicapWeight","e","fixedOdds","propositionNumber","returnWin","returnPlace"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { history } from \"../components/Router\";\nimport bwx from \"../apis/bwx\";\n\nconst Runners = ({ data, date, mnemonic, id, ...props }) => {\n\n  const handleClick = async (date, mnemonic, id, proposition, runner, type, event) => {\n\n    const _payout = localStorage.getItem(\"bwx_address\");\n\n    const values = {\n      coin: \"bch\",\n      date: new Date(date).toISOString(),\n      mnemonic: mnemonic,\n      payoutaddress: _payout,\n      proposition: proposition,\n      raceid: parseInt(id, 10),\n      runner: runner,\n      type: type\n    };\n\n    console.log(values);\n\n    const url = \"/betslip\";\n    const result = await bwx.open.post(url, values);\n\n    history.push(`/betslip/${result.data}`);\n  };\n\n  console.log(date);\n\n  return (\n    <div>\n      <table className=\"table table-striped\">\n        <tbody>\n          <tr>\n            <th>#</th>\n            <th>Runner</th>\n            <th>Rider</th>\n            <th>Weight</th>\n            <th>Win</th>\n            <th>Place</th>\n          </tr>\n          {data.runners.map(runner => (\n            <tr key={runner.name}>\n              <td>{runner.number}</td>\n              <td>\n                {runner.name} ({runner.barrierNumber})\n              </td>\n              <td>{runner.riderDriverName}</td>\n              <td>{runner.handicapWeight} kg</td>\n              <td>\n                <Button\n                  variant=\"primary\"\n                  block=\"true\"\n                  onClick={e =>\n                    handleClick(date, mnemonic, id, runner.fixedOdds.propositionNumber, runner.number, \"win\", e)\n                  }\n                >\n                  {runner.fixedOdds.returnWin}\n                </Button>\n              </td>\n              <td>\n                <Button\n                  variant=\"primary\"\n                  block=\"true\"\n                  onClick={e =>\n                    handleClick(date, mnemonic, id, runner.fixedOdds.propositionNumber, runner.number, \"place\", e)\n                  }\n                >\n                  {runner.fixedOdds.returnPlace}\n                </Button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {/* <Modal isOpen={isOpen} onDismiss={onDismiss}>\n      </Modal> */}\n\n\n    </div>\n  );\n};\n\nexport default Runners;\n"]},"metadata":{},"sourceType":"module"}