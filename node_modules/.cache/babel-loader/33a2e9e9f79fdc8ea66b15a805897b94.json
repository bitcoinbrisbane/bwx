{"ast":null,"code":"import _regeneratorRuntime from\"/home/lucascullen/GitHub/BitcoinBrisbane/bwx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lucascullen/GitHub/BitcoinBrisbane/bwx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";var open=axios.create({baseURL:process.env.REACT_APP_API_URL,headers:{\"Cache-Control\":\"no-store\"}});var secure=axios.create({baseURL:process.env.REACT_APP_API_URL,headers:{\"Cache-Control\":\"no-store\"}});secure.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(config){var user,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=JSON.parse(window.localStorage.getItem(\"user\"));token=user.token;if(token)config.headers.Authorization=\"Bearer \".concat(token);return _context.abrupt(\"return\",config);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),function(error){return Promise.reject(error);});export default{open:open,secure:secure};","map":{"version":3,"sources":["/home/lucascullen/GitHub/BitcoinBrisbane/bwx/src/apis/bwx.js"],"names":["axios","open","create","baseURL","process","env","REACT_APP_API_URL","headers","secure","interceptors","request","use","config","user","JSON","parse","window","localStorage","getItem","token","Authorization","error","Promise","reject"],"mappings":"mUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAa,CACxBC,OAAO,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBADG,CAExBC,OAAO,CAAE,CACP,gBAAiB,UADV,CAFe,CAAb,CAAb,CAOA,GAAMC,CAAAA,MAAM,CAAGR,KAAK,CAACE,MAAN,CAAa,CAC1BC,OAAO,CAAEC,OAAO,CAACC,GAAR,CAAYC,iBADK,CAE1BC,OAAO,CAAE,CACP,gBAAiB,UADV,CAFiB,CAAb,CAAf,CAOAC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BC,GAA5B,0FACE,iBAAMC,MAAN,iIACQC,IADR,CACeC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,CADf,CAEUC,KAFV,CAEoBN,IAFpB,CAEUM,KAFV,CAGE,GAAIA,KAAJ,CAAWP,MAAM,CAACL,OAAP,CAAea,aAAf,kBAAyCD,KAAzC,EAHb,gCAISP,MAJT,wDADF,+DAOE,SAAAS,KAAK,CAAI,CACP,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACD,CATH,EAYA,cAAe,CAAEpB,IAAI,CAAJA,IAAF,CAAQO,MAAM,CAANA,MAAR,CAAf","sourcesContent":["import axios from \"axios\";\n\nconst open = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  headers: {\n    \"Cache-Control\": \"no-store\"\n  }\n});\n\nconst secure = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  headers: {\n    \"Cache-Control\": \"no-store\"\n  }\n});\n\nsecure.interceptors.request.use(\n  async config => {\n    const user = JSON.parse(window.localStorage.getItem(\"user\"));\n    const { token } = user;\n    if (token) config.headers.Authorization = `Bearer ${token}`;\n    return config;\n  },\n  error => {\n    return Promise.reject(error);\n  }\n);\n\nexport default { open, secure };\n"]},"metadata":{},"sourceType":"module"}