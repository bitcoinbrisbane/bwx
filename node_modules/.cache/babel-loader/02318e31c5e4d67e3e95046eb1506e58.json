{"ast":null,"code":"import _objectWithoutProperties from\"/home/lucascullen/GitHub/BitcoinBrisbane/bwx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import QRCode from\"qrcode.react\";import useSWR,{mutate}from\"swr\";var BetSlip=function BetSlip(_ref){var proposition=_ref.proposition,address=_ref.address,status=_ref.status,props=_objectWithoutProperties(_ref,[\"proposition\",\"address\",\"status\"]);var payout_address=localStorage.getItem(\"bwx_address\");console.log(payout_address);console.log(address);var _useSWR=useSWR(\"/bet/status?address=\".concat(address)),data=_useSWR.data,error=_useSWR.error;console.log(data);var isLoading=!data&&!error;var defaultValues={\"status\":\"loading\"};var viewModel=data||defaultValues;var renderPayoutAddress=function renderPayoutAddress(){if(payout_address===\"\"||payout_address===undefined){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\"},\"You have not entered a payout address!  Click here to set.\");}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info\"},\"Your payout address is \",payout_address);}};var paymentAddress=function paymentAddress(address){var url=\"\".concat(address);return/*#__PURE__*/React.createElement(QRCode,{value:url});};var renderWagerSatus=function renderWagerSatus(status){if(status===\"unpaid\"){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\"},\"Status: Unpaid.  No bitcoin payment received. Once we have received a payment to this address your wager will be placed.\");}if(status===\"placed\"){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\"},\"Status: Your bet is now confirmed!\");}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},renderWagerSatus(viewModel.status),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},\"Bet Slip for \",proposition),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},\"Payment Address: \",address),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"Your unique bitcoin address for this wager is \",/*#__PURE__*/React.createElement(\"b\",null,address),\".  You can view the status of your bet at any time by visiting this page.  All winning wages will be paid to \",payout_address),paymentAddress(address))));};export default BetSlip;","map":{"version":3,"sources":["/home/lucascullen/GitHub/BitcoinBrisbane/bwx/src/components/BetSlip.js"],"names":["React","QRCode","useSWR","mutate","BetSlip","proposition","address","status","props","payout_address","localStorage","getItem","console","log","data","error","isLoading","defaultValues","viewModel","renderPayoutAddress","undefined","paymentAddress","url","renderWagerSatus"],"mappings":"uLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,MAAP,EAAiBC,MAAjB,KAA+B,KAA/B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAgD,IAA7CC,CAAAA,WAA6C,MAA7CA,WAA6C,CAAhCC,OAAgC,MAAhCA,OAAgC,CAAvBC,MAAuB,MAAvBA,MAAuB,CAAZC,KAAY,mEAE9D,GAAMC,CAAAA,cAAc,CAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAvB,CAEAC,OAAO,CAACC,GAAR,CAAYJ,cAAZ,EACAG,OAAO,CAACC,GAAR,CAAYP,OAAZ,EAL8D,YAMtCJ,MAAM,+BAAwBI,OAAxB,EANgC,CAMtDQ,IANsD,SAMtDA,IANsD,CAMhDC,KANgD,SAMhDA,KANgD,CAO9DH,OAAO,CAACC,GAAR,CAAYC,IAAZ,EAEA,GAAME,CAAAA,SAAS,CAAG,CAACF,IAAD,EAAS,CAACC,KAA5B,CAEA,GAAME,CAAAA,aAAa,CAAG,CAAE,SAAU,SAAZ,CAAtB,CACA,GAAMC,CAAAA,SAAS,CAAGJ,IAAI,EAAIG,aAA1B,CAEA,GAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,GAAIV,cAAc,GAAK,EAAnB,EAAyBA,cAAc,GAAKW,SAAhD,CAA2D,CACzD,mBACE,2BAAK,SAAS,CAAC,oBAAf,+DADF,CAKD,CAND,IAMO,CACL,mBACE,2BAAK,SAAS,CAAC,kBAAf,4BAA0DX,cAA1D,CADF,CAGD,CACF,CAZD,CAcA,GAAMY,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACf,OAAD,CAAa,CAClC,GAAMgB,CAAAA,GAAG,WAAMhB,OAAN,CAAT,CACA,mBAAO,oBAAC,MAAD,EAAQ,KAAK,CAAEgB,GAAf,EAAP,CACD,CAHD,CAKA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAChB,MAAD,CAAY,CACjC,GAAIA,MAAM,GAAK,QAAf,CACA,CACE,mBACE,2BAAK,SAAS,CAAC,oBAAf,6HADF,CAMD,CAED,GAAIA,MAAM,GAAK,QAAf,CACA,CACE,mBACE,2BAAK,SAAS,CAAC,qBAAf,uCADF,CAKD,CACJ,CAnBD,CAqBA,mBACE,2BAAK,SAAS,CAAC,WAAf,EAIIgB,gBAAgB,CAACL,SAAS,CAACX,MAAX,CAJpB,cAME,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,aAAf,kBAA2CF,WAA3C,CADF,cAEE,2BAAK,SAAS,CAAC,WAAf,eACE,0BAAI,SAAS,CAAC,YAAd,sBAA6CC,OAA7C,CADF,cAEE,yBAAG,SAAS,CAAC,WAAb,gEACgD,6BAAIA,OAAJ,CADhD,iHAC+KG,cAD/K,CAFF,CAMIY,cAAc,CAACf,OAAD,CANlB,CAFF,CANF,CADF,CAoBD,CA1ED,CA4EA,cAAeF,CAAAA,OAAf","sourcesContent":["import React from \"react\";\nimport QRCode from \"qrcode.react\";\nimport useSWR, { mutate } from \"swr\";\n\nconst BetSlip = ({ proposition, address, status, ...props }) => {\n  \n  const payout_address = localStorage.getItem(\"bwx_address\");\n\n  console.log(payout_address);\n  console.log(address);\n  const { data, error } = useSWR(`/bet/status?address=${address}`);\n  console.log(data);\n\n  const isLoading = !data && !error;\n\n  const defaultValues = { \"status\": \"loading\"};\n  const viewModel = data || defaultValues;\n\n  const renderPayoutAddress = () => {\n    if (payout_address === \"\" || payout_address === undefined) {\n      return (\n        <div className=\"alert alert-danger\">\n          You have not entered a payout address!  Click here to set.\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"alert alert-info\">Your payout address is {payout_address}</div>\n      );\n    }\n  };\n\n  const paymentAddress = (address) => {\n    const url = `${address}`;\n    return(<QRCode value={url}></QRCode>)\n  }\n\n  const renderWagerSatus = (status) => {\n      if (status === \"unpaid\")\n      {\n        return (\n          <div className=\"alert alert-danger\">\n            Status: Unpaid.  No bitcoin payment received. Once we have received a payment to this\n            address your wager will be placed.\n          </div>\n        )\n      }\n\n      if (status === \"placed\")\n      {\n        return (\n          <div className=\"alert alert-success\">\n            Status: Your bet is now confirmed!\n          </div>\n        )\n      }\n  }\n\n  return (\n    <div className=\"container\">\n\n      {/* { renderPayoutAddress() } */}\n\n      { renderWagerSatus(viewModel.status) }\n\n      <div className=\"card\">\n        <div className=\"card-header\">Bet Slip for {proposition}</div>\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">Payment Address: {address}</h5>\n          <p className=\"card-text\">\n            Your unique bitcoin address for this wager is <b>{address}</b>.  You can view the status of your bet at any time by visiting this page.  All winning wages will be paid to { payout_address }\n          </p>\n\n          { paymentAddress(address) }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BetSlip;\n"]},"metadata":{},"sourceType":"module"}