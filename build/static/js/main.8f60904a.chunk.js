(this["webpackJsonpbwx-front-end"]=this["webpackJsonpbwx-front-end"]||[]).push([[0],{107:function(e,a,t){e.exports=t(186)},118:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){"use strict";t.r(a);t(108);var n=t(0),r=t.n(n),l=t(12),c=t.n(l),o=t(7),s=t(192),i=t(193),u=t(191),d=Object(n.memo)((function(e){var a=e.links,t=e.noBrand,n=void 0===t||t,l=e.activeTab;a||(a=[{label:"Horses",onClick:function(){return z.push("/horses")}},{label:"Greyhounds",onClick:function(){return z.push("/dogs")}},{label:"Payout Address",onClick:function(){return z.push("/payoutaddress")}},{label:"My Bets",onClick:function(){return z.push("/mybets")}},{label:"History",onClick:function(){return z.push("/history")}}]);return r.a.createElement(s.a,{bg:"light",expand:"lg"},!n&&r.a.createElement(s.a.Brand,{style:{cursor:"pointer"},onClick:function(){return z.push("/")}}),!a.length||r.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),!a.length||r.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(i.a,null,a.map((function(e,a){var t=e.label,n=e.onClick,c=e.children,o=t===l?"active":"";return c?r.a.createElement(u.a,{title:t,key:a,className:o},c.map((function(e,a){var t=u.a[e.type];return r.a.createElement(t,{onClick:e.onClick,key:a,children:e.label})}))):r.a.createElement(i.a.Link,{onClick:n,key:a,className:o,children:t})})))))})),m=function(e){var a=e.header,t=e.children,n=e.noHeader,l=e.activeTab;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,n||a||r.a.createElement(d,{activeTab:l})),r.a.createElement("main",null,r.a.createElement("div",null,t)))},b=t(10),p=(t(118),function(e){var a=e.loading,t=e.children,n=e.noBackground,l=e.diameter,c=void 0===l?"3rem":l,o=e.noStretch,s=e.light;if(!a)return t||null;var i={width:c,height:c,borderColor:s?"rgba(100, 100, 100, 0.2)":"rgba(0, 0, 0, 0.6)",borderTopColor:s?"rgba(250, 250, 250, 0.5)":"rgba(0, 0, 0, 0.2)"};return r.a.createElement("div",null,r.a.createElement("div",{className:"loader",style:{backgroundColor:n?"rgba(0,0,0,0)":"rgba(255,255,255,0.7)",position:o?"":"absolute"}},r.a.createElement("div",{style:i})),t)}),E=t(18),h=t(21),v=t(100),f=t.n(v),y=function(e){var a=e.data;Object(E.a)(e,["data"]);return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,a.meets.map((function(e){return r.a.createElement("tr",{key:e.location},r.a.createElement("td",null,e.name," (",e.location,")"),e.races.map((function(a){return r.a.createElement("td",null,r.a.createElement(h.a,{to:{pathname:"/horses/".concat(e.mnemonic,"/").concat(a.index)}},"R",a.index),r.a.createElement("br",null),function(e){console.log(e);var a=f.a.utc(e).local().format("H:mm");return Date.now()>a?"Completed":a.toString()}(a.line1))})))})))))},g=function(){var e=Object(b.b)("/horseracing/"),a=e.data,t=e.error,n=!a&&!t,l=a||{meets:[]};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(p,{loading:n}),r.a.createElement("h1",{className:"mb-3"},"Horses"),r.a.createElement("h2",null,"Today"),r.a.createElement(y,{data:l})))},N=function(){return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col md-2"}),r.a.createElement("div",{className:"col md-8"},r.a.createElement("h1",null,"Bet With Coins"),r.a.createElement("p",null,"BWCs is a privacy focused crypto sports betting site. We do not capture any personal infomation and only ask our punters to supply a payout address. We do not hold any of our customers funds and payout immediately once bets have been confirmed on the blockchain."),r.a.createElement("p",null,"We encourage all our punters to use PGP encrypted mail should you need to contact us. Our PGP public key can be found at MIT or protonmail."),r.a.createElement("p",null,"In order to use the site, you must add a payout address which is stored in your browsers local storage.")),r.a.createElement("div",{className:"col md-2"}))))},k=function(){var e=Object(b.b)("/horseracing/"),a=e.data,t=e.error,n=!a&&!t,l=a||{meets:[]};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(p,{loading:n}),r.a.createElement("h1",{className:"mb-3"},"Horses"),r.a.createElement("h2",null,"Today"),r.a.createElement(y,{data:l})))},O=t(31),w=t.n(O),C=t(43),j=t(98),x=t(56),S=t.n(x),T={open:S.a.create({baseURL:"http://localhost:5000",headers:{"Cache-Control":"no-store"}}),secure:S.a.create({baseURL:"http://localhost:5000",headers:{"Cache-Control":"no-store"}})},W=function(e){var a=e.data,t=e.date,n=e.mnemonic,l=e.id,c=(Object(E.a)(e,["data","date","mnemonic","id"]),function(){var e=Object(C.a)(w.a.mark((function e(a,t,n,r,l,c,o){var s,i,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("bwx_address"),i={coin:"bch",date:new Date(a).toISOString(),mnemonic:t,payoutaddress:s,proposition:r,raceid:parseInt(n,10),runner:l,type:c},console.log(i),"/betslip",e.next=6,T.open.post("/betslip",i);case 6:u=e.sent,z.push("/betslip/".concat(u.data));case 8:case"end":return e.stop()}}),e)})));return function(a,t,n,r,l,c,o){return e.apply(this,arguments)}}());return console.log(t),r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Runner"),r.a.createElement("th",null,"Rider"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Win"),r.a.createElement("th",null,"Place")),a.runners.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.name," (",e.barrierNumber,")"),r.a.createElement("td",null,e.riderDriverName),r.a.createElement("td",null,e.handicapWeight," kg"),r.a.createElement("td",null,r.a.createElement(j.a,{variant:"primary",block:"true",onClick:function(a){return c(t,n,l,e.fixedOdds.propositionNumber,e.number,"win",a)}},e.fixedOdds.returnWin)),r.a.createElement("td",null,r.a.createElement(j.a,{variant:"primary",block:"true",onClick:function(a){return c(t,n,l,e.fixedOdds.propositionNumber,e.number,"place",a)}},e.fixedOdds.returnPlace)))})))))},B=function(){var e=Object(o.f)(),a=e.date,t=e.mnemonic,n=e.id,l=Object(b.b)("/horseracing/".concat(t,"/").concat(n)),c=l.data,s=l.error,i=!c&&!s,u=c||{raceNumber:"#",runners:[]},d=Date.now()||a;return console.log(d),r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(p,{loading:i}),r.a.createElement("h1",{className:"mb-3"},"R",u.raceNumber," ",u.raceName),r.a.createElement(W,{data:u,date:d,mnemonic:t,id:n})))},I=t(57),P=function(e){var a=e.columnConfig,t=void 0===a?{}:a,n=e.hidden,l=void 0===n?[]:n,c=e.data,o=void 0===c?[]:c,s=Object(E.a)(e,["columnConfig","hidden","data"]);return r.a.createElement(I.BootstrapTable,Object.assign({data:o,striped:!0,hover:!0,version:"4",pagination:!0,tableContainerClass:"table-responsive"},s),Object.keys(t).filter((function(e){return l.indexOf(e)<0})).map((function(e){return r.a.createElement(I.TableHeaderColumn,Object.assign({key:e,dataField:e,dataSort:!0},t[e]))})))},H={address:{children:"Address",width:"40%"},status:{children:"Status",width:"15%"},proposition:{children:"Proposition"},created:{children:"Created"}},R=function(e){var a=e.data,t=Object(E.a)(e,["data"]);return r.a.createElement(P,Object.assign({data:a,columnConfig:H,keyField:"id"},t))},D=function(){var e=Object(b.b)("/bethistory/"),a=e.data,t=e.error,n=!a&&!t;return console.log(a),r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(p,{loading:n}),r.a.createElement("h1",{className:"mb-3"},"History"),r.a.createElement(R,{data:a})))},Y=t(28);t(59);var A=function(){var e=localStorage.getItem("bwx_address"),a=Object(b.b)("/bethistory/".concat(e)),t=a.data,n=a.error,l=!t&&!n;return console.log(t),r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(p,{loading:l}),r.a.createElement("h1",{className:"mb-3"},"My Bets"),r.a.createElement(R,{data:t})))},_=t(36),F=function(e){var a=e.isWrapped,t=e.children;return a?r.a.createElement("div",{className:"form-group"},t):r.a.createElement(r.a.Fragment,null,t)},G=function(e){var a=e.label,t=e.onChange,n=e.skinny,l=Object(E.a)(e,["label","onChange","skinny"]),c=Object(_.c)(l),o=Object(Y.a)(c,3),s=o[0],i=(o[1],o[2]);return t&&(s.onChange=function(e){return t(e,i)}),l.value&&(s.value=l.value),r.a.createElement(F,{isWrapped:!n},a&&r.a.createElement("label",null,a),r.a.createElement("input",Object.assign({className:"form-control"},l,s)))},L=function(){var e=localStorage.getItem("bwx_address"),a={payout:e};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,r.a.createElement("h2",null,"Payout Address"),function(){if(""===e||void 0===e)return r.a.createElement("div",{className:"alert alert-danger"},"You have not entered a payout address!")}(),r.a.createElement("p",null,"In order to use Bet With Coins we require your bitcoin cash address where you will receive payouts.  These are not stored on our server but in your local machine's browser cookie.  This can be deleted anytime by clearing your cookies."),r.a.createElement("p",null,r.a.createElement("b",null,"Please make sure you are in control of this address and DO NOT use an exchange address.")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(_.b,{initialValues:a,onSubmit:function(e){localStorage.setItem("bwx_address",e.payout),alert("Your address "+e.payout+" has been saved to your browsers local storage.")}},(function(e){var a=e.isSubmitting;return r.a.createElement(_.a,{className:"login-form"},r.a.createElement("label",null,"Your bitcoin cash payout address"),r.a.createElement(G,{name:"payout"}),r.a.createElement("button",{className:"btn btn-primary btn-block relative d-flex justify-content-center",type:"submit",disabled:a},r.a.createElement("span",{className:"mx-2"},"Save")))})))))))},M=t(103),U=t.n(M),q=function(e){var a=e.proposition,t=e.address,n=e.status,l=(Object(E.a)(e,["proposition","address","status"]),localStorage.getItem("bwx_address"));console.log(l);return r.a.createElement("div",{className:"container"},function(e){return"unpaid"===e?r.a.createElement("div",{className:"alert alert-danger"},"Status: Unpaid.  No bitcoin payment received. Once we have received a payment to this address your wager will be placed."):"placed"===e?r.a.createElement("div",{className:"alert alert-success"},"Status: Your bet is now confirmed!"):void 0}(n),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Bet Slip for ",a),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Payment Address: ",t),r.a.createElement("p",{className:"card-text"},"Your unique bitcoin address for this wager is ",r.a.createElement("b",null,t),".  You can view the status of your bet at any time by visiting this page.  All winning wages will be paid to ",l),function(e){var a="".concat(e);return r.a.createElement(U.a,{value:a})}(t))))},J=function(){var e=Object(o.f)().address;console.log(e);var a=Object(b.b)("/betslip?address=".concat(e)),t=a.data,n=a.error,l=Object(b.b)("/bet/status?address=".concat(e)),c=(l.betstatusData,l.betstatusError,!t&&!n),s=t||{address:e,status:"unpaid"};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(p,{loading:c}),r.a.createElement(q,{proposition:s.proposition,address:s.address,status:s.status})))},V=t(14),z=Object(V.a)(),K=function(){return r.a.createElement(o.b,{history:z},r.a.createElement(o.a,{exact:!0,path:"/",component:N}),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/dogs",component:g}),r.a.createElement(o.a,{path:"/horses/:mnemonic/:id",component:B}),r.a.createElement(o.a,{path:"/horses",component:k}),r.a.createElement(o.a,{path:"/payoutaddress",component:L}),r.a.createElement(o.a,{path:"/betslip/:address",component:J}),r.a.createElement(o.a,{path:"/history",component:D}),r.a.createElement(o.a,{path:"/mybets",component:A})))},Q=(t(185),{fetcher:function(e){return T.secure.get(e).then((function(e){return e.data}))},shouldRetryOnError:!1}),X=function(){return r.a.createElement(b.a,{value:Q},r.a.createElement(K,null))};c.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.8f60904a.chunk.js.map