(this["webpackJsonpbwx-front-end"]=this["webpackJsonpbwx-front-end"]||[]).push([[0],{107:function(e,a,t){e.exports=t(186)},118:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){"use strict";t.r(a);t(108);var n=t(0),r=t.n(n),l=t(11),c=t.n(l),o=t(7),s=t(192),i=t(193),u=t(191),d=Object(n.memo)((function(e){var a=e.links,t=e.noBrand,n=void 0===t||t,l=e.activeTab;a||(a=[{label:"Horses",onClick:function(){return V.push("/horses")}},{label:"Payout Address",onClick:function(){return V.push("/payoutaddress")}},{label:"My Bets",onClick:function(){return V.push("/mybets")}},{label:"History",onClick:function(){return V.push("/history")}}]);return r.a.createElement(s.a,{bg:"light",expand:"lg"},!n&&r.a.createElement(s.a.Brand,{style:{cursor:"pointer"},onClick:function(){return V.push("/")}}),!a.length||r.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),!a.length||r.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(i.a,null,a.map((function(e,a){var t=e.label,n=e.onClick,c=e.children,o=t===l?"active":"";return c?r.a.createElement(u.a,{title:t,key:a,className:o},c.map((function(e,a){var t=u.a[e.type];return r.a.createElement(t,{onClick:e.onClick,key:a,children:e.label})}))):r.a.createElement(i.a.Link,{onClick:n,key:a,className:o,children:t})})))))})),m=function(e){var a=e.header,t=e.children,n=e.noHeader,l=e.activeTab;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,n||a||r.a.createElement(d,{activeTab:l})),r.a.createElement("main",null,r.a.createElement("div",null,t)))},p=function(){return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Bet With Coins"),r.a.createElement("p",null,"BWCs is a privacy focused crypto sports betting site.  We do not capture personal infomation and only ask our punters to supply a payment address.  We do not hold any of our customers funds, and payout immediately after the even has finished and payments confirmed on the blockchain."),r.a.createElement("p",null,"We encourage all our punters to use PGP encrypted mail, should you need to contact us.  Our PGP public key can be found at ")))))},b=t(17),E=(t(118),function(e){var a=e.loading,t=e.children,n=e.noBackground,l=e.diameter,c=void 0===l?"3rem":l,o=e.noStretch,s=e.light;if(!a)return t||null;var i={width:c,height:c,borderColor:s?"rgba(100, 100, 100, 0.2)":"rgba(0, 0, 0, 0.6)",borderTopColor:s?"rgba(250, 250, 250, 0.5)":"rgba(0, 0, 0, 0.2)"};return r.a.createElement("div",null,r.a.createElement("div",{className:"loader",style:{backgroundColor:n?"rgba(0,0,0,0)":"rgba(255,255,255,0.7)",position:o?"":"absolute"}},r.a.createElement("div",{style:i})),t)}),h=t(18),v=t(25),f=t(54),y=t.n(f),g=function(e){var a=e.data;Object(h.a)(e,["data"]);return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,a.meets.map((function(e){return r.a.createElement("tr",{key:e.location},r.a.createElement("td",null,e.name," (",e.location,")"),e.races.map((function(a){return r.a.createElement("td",null,r.a.createElement(v.a,{to:{pathname:"/horses/".concat(e.mnemonic,"/").concat(a.index)}},"R",a.index),r.a.createElement("br",null),y.a.utc(a.line1).local().format("H:mm"))})))})))))},N=function(){var e=Object(b.b)("/horseracing/"),a=e.data,t=e.error,n=!a&&!t,l=a||{meets:[]};return console.log(a),r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(E,{loading:n}),r.a.createElement("h1",{className:"mb-3"},"Horses"),r.a.createElement("h2",null,"Today"),r.a.createElement(g,{data:l})))},k=t(22),O=t.n(k),w=t(32),C=t(99),j=t(57),x=t.n(j),S=x.a.create({baseURL:"http://localhost:5000",headers:{"Cache-Control":"no-store"}}),P=x.a.create({baseURL:"http://localhost:5000",headers:{"Cache-Control":"no-store"}});P.interceptors.request.use(function(){var e=Object(w.a)(O.a.mark((function e(a){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(window.localStorage.getItem("user")),(n=t.token)&&(a.headers.Authorization="Bearer ".concat(n)),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var W={open:S,secure:P},B=function(e){var a=e.data,t=e.mnemonic,n=e.id,l=(Object(h.a)(e,["data","mnemonic","id"]),function(){var e=Object(w.a)(O.a.mark((function e(a,t,n,r,l,c){var o,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("click"),console.log(a),o=localStorage.getItem("bwx_address"),s={coin:"bch",mnemonic:a,payoutaddress:o,proposition:n,raceid:parseInt(t,10),runner:r,type:l},"/betslip",e.next=7,W.open.post("/betslip",s);case 7:i=e.sent,V.push("/betslip/".concat(i.data));case 9:case"end":return e.stop()}}),e)})));return function(a,t,n,r,l,c){return e.apply(this,arguments)}}());return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Runner"),r.a.createElement("th",null,"Rider"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Win"),r.a.createElement("th",null,"Place")),a.runners.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.name," (",e.barrierNumber,")"),r.a.createElement("td",null,e.riderDriverName),r.a.createElement("td",null,e.handicapWeight," kg"),r.a.createElement("td",null,r.a.createElement(C.a,{variant:"primary",block:"true",onClick:function(a){return l(t,n,e.fixedOdds.propositionNumber,e.number,"win",a)}},e.fixedOdds.returnWin)),r.a.createElement("td",null,r.a.createElement(C.a,{variant:"primary",block:"true",onClick:function(a){return l(t,n,e.fixedOdds.propositionNumber,e.number,"place",a)}},e.fixedOdds.returnPlace)))})))))},T=function(){var e=Object(o.f)(),a=e.mnemonic,t=e.id;console.log(a),console.log(t);var n=Object(b.b)("/horseracing/".concat(a,"/").concat(t)),l=n.data,c=n.error,s=!l&&!c,i=l||{raceNumber:"#",runners:[]};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(E,{loading:s}),r.a.createElement("h1",{className:"mb-3"},"R",i.raceNumber," ",i.raceName),r.a.createElement(B,{data:i,mnemonic:a,id:t})))},I=t(29);t(60);var H=t(58),R=function(e){var a=e.columnConfig,t=void 0===a?{}:a,n=e.hidden,l=void 0===n?[]:n,c=e.data,o=void 0===c?[]:c,s=Object(h.a)(e,["columnConfig","hidden","data"]);return r.a.createElement(H.BootstrapTable,Object.assign({data:o,striped:!0,hover:!0,version:"4",pagination:!0,tableContainerClass:"table-responsive"},s),Object.keys(t).filter((function(e){return l.indexOf(e)<0})).map((function(e){return r.a.createElement(H.TableHeaderColumn,Object.assign({key:e,dataField:e,dataSort:!0},t[e]))})))},A={address:{children:"Address",width:"40%"},status:{children:"Status",width:"15%"},proposition:{children:"Proposition"},created:{children:"Created"}},Y=function(e){var a=e.data,t=Object(h.a)(e,["data"]);return r.a.createElement(R,Object.assign({data:a,columnConfig:A,keyField:"id"},t))},F=function(){var e=Object(b.b)("/bethistory/"),a=e.data,t=e.error,n=!a&&!t;return console.log(a),r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(E,{loading:n}),r.a.createElement("h1",{className:"mb-3"},"History"),r.a.createElement(Y,{data:a})))},_=t(37),q=function(e){var a=e.isWrapped,t=e.children;return a?r.a.createElement("div",{className:"form-group"},t):r.a.createElement(r.a.Fragment,null,t)},J=function(e){var a=e.label,t=e.onChange,n=e.skinny,l=Object(h.a)(e,["label","onChange","skinny"]),c=Object(_.c)(l),o=Object(I.a)(c,3),s=o[0],i=(o[1],o[2]);return t&&(s.onChange=function(e){return t(e,i)}),l.value&&(s.value=l.value),r.a.createElement(q,{isWrapped:!n},a&&r.a.createElement("label",null,a),r.a.createElement("input",Object.assign({className:"form-control"},l,s)))},L=function(){var e=localStorage.getItem("bwx_address"),a={payout:e};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",null,r.a.createElement("h2",null,"Payout Address"),function(){if(""===e||void 0===e)return r.a.createElement("div",{className:"alert alert-danger"},"You have not entered a payout address!")}(),r.a.createElement("p",null,"In order to use Bet With Coins we require your bitcoin cash address where you will receive payouts.  These are not stored on our server but in your local machine's browser cookie.  This can be deleted anytime by clearing your cookies."),r.a.createElement("p",null,r.a.createElement("b",null,"Please make sure you are in control of this address and DO NOT use an exchange address.")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(_.b,{initialValues:a,onSubmit:function(e){localStorage.setItem("bwx_address",e.payout),alert("Your address "+e.payout+" has been saved to your browsers local storage.")}},(function(e){var a=e.isSubmitting;return r.a.createElement(_.a,{className:"login-form"},r.a.createElement("label",null,"Your bitcoin cash payout address"),r.a.createElement(J,{name:"payout"}),r.a.createElement("button",{className:"btn btn-primary btn-block relative d-flex justify-content-center",type:"submit",disabled:a},r.a.createElement("span",{className:"mx-2"},"Save")))})))))))},U=t(103),D=t.n(U),G=function(e){var a=e.proposition,t=e.address,n=(e.status,Object(h.a)(e,["proposition","address","status"]),localStorage.getItem("bwx_address"));console.log(n),console.log(t);var l=Object(b.b)("/bet/status?address=".concat(t)),c=l.data;l.error;console.log(c);var o=c||{status:"loading"};return r.a.createElement("div",{className:"container"},function(e){return"unpaid"===e?r.a.createElement("div",{className:"alert alert-danger"},"Status: Unpaid.  No bitcoin payment received. Once we have received a payment to this address your wager will be placed."):"placed"===e?r.a.createElement("div",{className:"alert alert-success"},"Status: Your bet is now confirmed!"):void 0}(o.status),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Bet Slip for ",a),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Payment Address: ",t),r.a.createElement("p",{className:"card-text"},"Your unique bitcoin address for this wager is ",r.a.createElement("b",null,t),".  You can view the status of your bet at any time by visiting this page.  All winning wages will be paid to ",n),function(e){var a="".concat(e);return r.a.createElement(D.a,{value:a})}(t))))},z=function(){var e=Object(o.f)().address;console.log(e);var a=Object(b.b)("/betslip?address=".concat(e)),t=a.data,n=a.error,l=!t&&!n,c=t||{address:e};return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid py-5"},r.a.createElement(E,{loading:l}),r.a.createElement(G,{proposition:c.proposition,address:c.address})))},M=t(13),V=Object(M.a)(),K=function(){return r.a.createElement(o.b,{history:V},r.a.createElement(o.a,{exact:!0,path:"/",component:p}),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/horses/:mnemonic/:id",component:T}),r.a.createElement(o.a,{path:"/horses",component:N}),r.a.createElement(o.a,{path:"/payoutaddress",component:L}),r.a.createElement(o.a,{path:"/betslip/:address",component:z}),r.a.createElement(o.a,{path:"/history",component:F})))},Q=(t(185),{fetcher:function(e){return W.secure.get(e).then((function(e){return e.data}))},shouldRetryOnError:!1}),X=function(){return r.a.createElement(b.a,{value:Q},r.a.createElement(K,null))};c.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.55a00b5a.chunk.js.map